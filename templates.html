<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template List | Prompt Maker</title>
    <meta name="description" content="Browse categorized templates for structured responses, ready to use and share.">
    <link rel="canonical" href="https://prompt.jctec.me/templates.html" />
    <meta property="og:title" content="Template List | Prompt Maker" />
    <meta property="og:description"
        content="Browse categorized templates for structured responses, ready to use and share." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://prompt.jctec.me/templates.html" />
    <meta property="og:image" content="https://prompt.jctec.me/og-image.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Template List | Prompt Maker" />
    <meta name="twitter:description"
        content="Browse categorized templates for structured responses, ready to use and share." />
    <meta name="twitter:image" content="https://prompt.jctec.me/og-image.png" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1PZLKT04SD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-1PZLKT04SD');
    </script>
</head>

<body class="bg-gray-900 min-h-screen text-white">
    <!-- Header with navigation -->
    <header class="bg-gray-800 border-b border-gray-700 sticky top-0 z-10">
        <div class="max-w-4xl mx-auto px-4 py-4 flex items-center justify-between">
            <a href="/" class="text-xl font-bold text-white">Prompt Maker</a>
            <nav class="flex items-center">
                <a href="/" class="text-gray-300 hover:text-blue-400 px-3">Home</a>
                <a href="/templates.html" class="text-blue-400 px-3 font-semibold">Templates</a>
                <a href="/how-to.html" target="_blank" 
                   class="ml-2 bg-gray-700 hover:bg-blue-600 text-white font-bold py-1 px-3 text-sm rounded shadow flex items-center no-underline"
                   title="How to use">
                    <span class="font-bold mr-1">?</span>
                    How to
                </a>
            </nav>
        </div>
    </header>
    <div class="max-w-4xl mx-auto py-12 px-4">
        <h1 class="text-3xl font-bold mb-6">Template List</h1>
        <div id="template-list" class="space-y-10"></div>
    </div>
    <footer class="w-full py-4 flex justify-center items-center bg-gray-900 border-t border-gray-800">
        <span class="text-sm text-gray-400">
            Made with <span aria-label="love" role="img" class="mx-1">❤️</span> by
            <a href="https://jctec.me" target="_blank" rel="noopener"
                class="underline hover:text-blue-400 font-medium">jctec.me</a>
        </span>
    </footer>
    <script>
        // Load templates from JSON and render
        fetch('templates.json')
            .then(response => response.json())
            .then(data => {
                // Group templates by category
                const grouped = {};
                data.forEach(item => {
                    if (!grouped[item.category]) grouped[item.category] = [];
                    grouped[item.category].push(item);
                });
                const colors = [
                    'text-blue-300',
                    'text-green-300',
                    'text-yellow-300',
                    'text-pink-300',
                    'text-purple-300',
                    'text-orange-300'
                ];
                let colorIdx = 0;
                let html = '';
                Object.keys(grouped).forEach((cat, i) => {
                    const color = colors[i % colors.length];
                    const itemCount = grouped[cat].length;
                    const listId = `category-list-${i}`;
                    const shouldCollapse = itemCount >= 5;
                    const toggleButton = shouldCollapse
                        ? `<button type="button" data-collapse-target="${listId}" data-count="${itemCount}" aria-expanded="false" class="text-xs md:text-sm text-blue-300 hover:text-blue-200 underline shrink-0">Show ${itemCount} templates</button>`
                        : '';

                    html += `<section><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4"><h2 class="text-xl md:text-2xl font-semibold ${color} break-words leading-snug">${cat}</h2>${toggleButton}</div><ul id="${listId}" class="space-y-2 ${shouldCollapse ? 'hidden' : ''}">`;
                    grouped[cat].forEach(tpl => {
                        html += `<li class="bg-gray-800 rounded p-3"><div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4"><span class="text-sm sm:text-base text-gray-100 break-words leading-snug">${tpl.title}</span><a href="${tpl.link}" target="_blank" class="text-blue-400 hover:text-blue-200 underline shrink-0 self-start">Share Link</a></div></li>`;
                    });
                    html += '</ul></section>';
                    colorIdx++;
                });
                document.getElementById('template-list').innerHTML = html;

                document.querySelectorAll('[data-collapse-target]').forEach((btn) => {
                    btn.addEventListener('click', () => {
                        const targetId = btn.getAttribute('data-collapse-target');
                        const count = btn.getAttribute('data-count');
                        const target = document.getElementById(targetId);
                        if (!target) return;

                        const isExpanded = btn.getAttribute('aria-expanded') === 'true';
                        btn.setAttribute('aria-expanded', String(!isExpanded));
                        target.classList.toggle('hidden', isExpanded);
                        btn.textContent = isExpanded ? `Show ${count} templates` : 'Hide templates';
                    });
                });
            });
    </script>
</body>
<script>
    function autoResize(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    }
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('textarea').forEach(autoResize);
    });
</script>

</html>
